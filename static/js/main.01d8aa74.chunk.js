(this["webpackJsonpsupport-resistance-game"]=this["webpackJsonpsupport-resistance-game"]||[]).push([[0],{254:function(e,t,s){},471:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s.n(n),a=s(230),c=s.n(a),o=(s(254),s(474)),i=s(244),l=s(245),p=s(44),d=s(243),h=s(234),u=s(11);var j=()=>{const[e]=Object(n.useState)((()=>Array(10).fill(null).map((()=>(e=>{const t=[];let s=100;for(let n=0;n<e;n++){const e=s+10*Math.random()-5,r=e+10*Math.random()-5,a=Math.max(e,r)+5*Math.random(),c=Math.min(e,r)-5*Math.random();t.push({date:"Day ".concat(n+1),open:e,close:r,high:a,low:c}),s=r}return t})(30))))),[t,s]=Object(n.useState)(0),[r,a]=Object(n.useState)({support:[],resistance:[]}),[c,j]=Object(n.useState)({support:null,resistance:null}),[b,m]=Object(n.useState)(null),[g,O]=Object(n.useState)("playing"),[x,y]=Object(n.useState)([]),[f,M]=Object(n.useState)(""),S=Object(n.useRef)(null);Object(n.useEffect)((()=>{const{support:s,resistance:n}=(e=>{const t=e.flatMap((e=>[e.high,e.low]));return{support:Math.min(...t),resistance:Math.max(...t)}})(e[t]);j({support:s,resistance:n})}),[t,e]);const v=(e,t)=>{const s=c[e],n=1-Math.abs(t-s)/(c.resistance-c.support);let r="";r=n>.9?"Excellent! Very close to the correct line.":n>.7?"Good job! You're getting close.":n>.5?"Not bad, but there's room for improvement.":"Try again. Look closely at the price movements.",M(r)},k=()=>{const e=1-(Math.min(...r.support.map((e=>Math.abs(e-c.support))))+Math.min(...r.resistance.map((e=>Math.abs(e-c.resistance)))))/(c.resistance-c.support);return Math.round(100*e)};return Object(u.jsxs)("div",{style:{padding:"1rem"},children:[Object(u.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:"Support and Resistance Line Drawing Game"}),Object(u.jsxs)("div",{style:{marginBottom:"1rem"},children:["Chart ",t+1," of 10"]}),Object(u.jsxs)("div",{style:{marginBottom:"1rem"},children:[Object(u.jsx)("button",{onClick:()=>m("support"),style:{marginRight:"0.5rem"},children:"Select Support Line"}),Object(u.jsx)("button",{onClick:()=>m("resistance"),children:"Select Resistance Line"})]}),Object(u.jsx)("div",{ref:S,onClick:s=>{if(!S.current||!b||"playing"!==g)return;const n=S.current.getBoundingClientRect(),r=s.clientY-n.top,c=n.height,o=Math.min(...e[t].map((e=>e.low))),i=Math.max(...e[t].map((e=>e.high))),l=i-r/c*(i-o);a((e=>({...e,[b]:[...e[b].slice(0,1),l]}))),v(b,l)},children:Object(u.jsxs)(o.a,{width:600,height:400,data:e[t],children:[Object(u.jsx)(i.a,{dataKey:"date"}),Object(u.jsx)(l.a,{domain:["auto","auto"]}),Object(u.jsx)(p.a,{}),Object(u.jsx)(d.a,{type:"monotone",dataKey:"high",stroke:"#8884d8",dot:!1}),Object(u.jsx)(d.a,{type:"monotone",dataKey:"low",stroke:"#82ca9d",dot:!1}),r.support.map(((e,t)=>Object(u.jsx)(h.a,{y:e,stroke:"blue"},"support-".concat(t)))),r.resistance.map(((e,t)=>Object(u.jsx)(h.a,{y:e,stroke:"red"},"resistance-".concat(t))))]})}),f&&Object(u.jsxs)("div",{style:{marginTop:"1rem",padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px"},children:[Object(u.jsx)("strong",{children:"Feedback:"})," ",f]}),Object(u.jsx)("button",{onClick:()=>{const e=k();y((t=>[...t,e])),9===t?O("finished"):(s((e=>e+1)),a({support:[],resistance:[]}),M(""))},style:{marginTop:"1rem"},disabled:r.support.length<2||r.resistance.length<2,children:"Next Chart"}),"finished"===g&&Object(u.jsxs)("div",{style:{marginTop:"1rem",padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px"},children:[Object(u.jsx)("h2",{children:"Game Over!"}),Object(u.jsxs)("p",{children:["Your average score: ",(x.reduce(((e,t)=>e+t),0)/x.length).toFixed(2)]}),Object(u.jsxs)("p",{children:["Scores per chart: ",x.join(", ")]}),Object(u.jsx)("button",{onClick:()=>{s(0),a({support:[],resistance:[]}),m(null),O("playing"),y([]),M("")},children:"Play Again"})]})]})};var b=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(j,{})})};var m=e=>{e&&e instanceof Function&&s.e(3).then(s.bind(null,475)).then((t=>{let{getCLS:s,getFID:n,getFCP:r,getLCP:a,getTTFB:c}=t;s(e),n(e),r(e),a(e),c(e)}))};c.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(b,{})})),m()}},[[471,1,2]]]);
//# sourceMappingURL=main.01d8aa74.chunk.js.map